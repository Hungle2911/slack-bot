<tr id="<%= dom_id(incident) %>">
  <td class="px-6 py-4 whitespace-nowrap">
    <div class="text-sm font-medium text-gray-900">
      <%= link_to incident.title, incident_path(incident), class: "text-blue-600 hover:text-blue-800" %>
      </div>
  </td>
  <td class="px-6 py-4">
    <div class="text-sm text-gray-500 max-w-xs truncate"><%= incident.description %></div>
  </td>
  <td class="px-6 py-4 whitespace-nowrap">
    <% if incident.severity %>
      <% severity_class = {
        'sev0' => 'bg-red-100 text-red-800',
        'sev1' => 'bg-orange-100 text-orange-800',
        'sev2' => 'bg-yellow-100 text-yellow-800'
      }[incident.severity] %>
      <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= severity_class %>">
        <%= incident.severity.upcase %>
      </span>
    <% else %>
      <span class="text-sm text-gray-500">-</span>
    <% end %>
  </td>
  <td class="px-6 py-4 whitespace-nowrap">
    <% status_class = incident.active? ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800' %>
    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full <%= status_class %>">
      <%= incident.status.upcase %>
    </span>
  </td>
  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
    <%= incident.creator_name %>
  </td>
  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
    <%= incident.created_at&.strftime("%Y-%m-%d %H:%M") %>
  </td>
  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
    <% if incident.resolved_at %>
      <%= incident.resolved_at.strftime("%Y-%m-%d %H:%M") %>
      <div class="text-xs text-gray-400">
        <%= incident.resolution_time %>
      </div>
    <% else %>
      -
    <% end %>
  </td>
</tr>